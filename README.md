# Описание проекта
### Шопинг-ассистент: Copilot для удобного онлайн-шопинга
Этот проект создан для хакатона IT Purple Hack в рамках кейса «Copilot для шопинга». Цель проекта — улучшить клиентский опыт онлайн-шопинга, предоставляя пользователям интеллектуального помощника, который помогает находить лучшие товары под их потребности, бюджет и предпочтения. С этим проектом нам удалось получить максимальный балл в рамках выбранного кейса.
### Реализация
Для удобства взаимодействия с нашим шопинг-ассистентом мы интегрировали его в Telegram-бота. Это решение позволит легко демонстрировать функционал жюри. Бот использует API Gemini для анализа данных и предоставления персонализированных рекомендаций.

## Описание файлов
- bot/ : Папка с основным кодом бота.
-- config.py: Конфигурационный файл с настройками бота.
-- create_bot.py: Файл для создания экземпляра бота.
-- db.py: Файл для работы с базой данных.
-- functions.py: Файл с вспомогательными функциями.
-- generating.py: Файл для ИИ генерации.
-- handlers.py: Файл с обработчиками команд, сообщений и вызово.
-- main.py: Главный файл запуска бота.
-- markups.py: Файл с клавиатурами для сообщений бота.
- data/ : Папка с данными.
-- bot_log.log: Лог-файл для записи действий бота.
-- database_file.db: База данных SQLite.
- goods/ : Папка с CSV-файлами товаров.
-- all_goods.csv: Общий файл со всеми товарами.
-- cloths_goods.csv: Файл с одеждой.
-- cosmetic_goods.csv: Файл с косметикой.
-- decoration_goods.csv: Файл с декоративными товарами.
-- food_goods.csv: Файл с продуктами питания.
- pictures/ : Папка с изображениями, которые используются в боте.
-- goods/ : Папка с изображениями товаров.
- .dockerignore : Файл для игнорирования определенных файлов при сборке Docker-образа.
- .env : Файл с переменными окружения.
- Dockerfile : Файл для сборки Docker-образа.
- Makefile : Файл с командами для автоматизации процессов.
- README.md : Этот файл с описанием проекта.
- requirements.txt : Файл с зависимостями проекта.

## Установка и запуск
#### Требования
- Python 3.12+
- pip
- Telegram Bot токен [(документация telegram, см. раздел BotFather)](https://core.telegram.org/bots/features#botfather)
- Gemini API токен [(документация от google)](https://ai.google.dev/gemini-api/docs/api-key?hl=ru)
- Docker (опционально)

#### Настройка переменных окружения
Для корректной работы бота необходимо настроить файл .env . Этот файл содержит важные конфигурационные параметры, которые используются в проекте. Бот использует Gemini API, поэтому для корректной работы из России требуется прокси-сервер.
```env
BOT_TOKEN=your_telegram_bot_token    # Токен вашего бота
GEMINI_URL=gemini_url    # Актуальный URL для запросов к Gemini
PROXY_IP=your_proxy_ip_or_url    # Адрес прокси-сервера
PROXY_LOGIN=your_proxy_login    # Логин для прокси
PROXY_PASSWORD=your_proxy_password    # Пароль для прокси
```

#### Запуск без Docker
Установите зависимости:
```bash
pip install -r requirements.txt
```
Запустите бота:
```bash
python bot/main.py
```

#### Запуск через Docker
Использование Makefile для управления Docker-образом
В проекте используется Makefile для упрощения управления Docker-ом. Вы можете использовать следующие команды:
- Сборка образа:
    Команда build создает Docker-образ с именем assistent_bot_image.
    ```bash
    make build
    ```
- Запуск контейнера:
    Команда run запускает контейнер из созданного образа. Контейнер будет использовать переменные окружения из файла .env и автоматически перезапускаться при падении.
    ```bash
    make run
    ```
- Остановка контейнера:
    Команда stop останавливает работающий контейнер.
    ```bash
    make stop
    ```
- Подключение терминала к контейнеру:
    Если вам нужно подключиться к работающему контейнеру:
    ```bash
    make attach
    ```
- Удаление контейнера :
    Команда dell удаляет контейнер.
    ```bash
    make dell
    ```
## Над проектом работали
- #### Вадим Симонов
    [![Связаться с Вадимом](https://img.shields.io/badge/Telegram-Contact%20Vadim-blue?style=flat-square&logo=telegram)](https://t.me/BigRuPanda)
- #### Вячеслав Коваленко
    [![Связаться со Славой](https://img.shields.io/badge/Telegram-Contact%20Slava-blue?style=flat-square&logo=telegram)](https://t.me/ItzEviLegenD)